kaplay({width:640,height:384,canvas:document.querySelector("#mycanvas"),background:[158,158,217],gravity:500}),scene("game",(()=>{setGravity(500),loadSprite("kat","./sprites/32x32/kat.png"),loadSprite("dirt","./sprites/32x32/dirt.png"),loadSprite("grass-angle-left","./sprites/32x32/grass-angle-left.png"),loadSprite("grass-angle-right","./sprites/32x32/grass-angle-right.png"),loadSprite("grass","./sprites/32x32/grass.png"),loadSprite("blades","./sprites/32x32/blades.png");const e=add([sprite("kat"),pos(50,50),body(),area(),rotate(),anchor("center"),offscreen({destroy:!0}),"cat",{speed:300}]);addLevel(["                    ","                    ","                    ","                    ","                    ","                    ","                    ","                    ","bbbbbbb         bbbb","gggggggg l    r gggggg","xxxxxxxxxxxxxxxxxxxx","xxxxxxxxxxxxxxxxxxxx"],{tileWidth:32,tileHeight:32,tiles:{x:()=>[sprite("dirt"),area(),body({isStatic:!0}),"dirt"],g:()=>[sprite("grass"),area(),body({isStatic:!0}),"dirt"],l:()=>[sprite("grass-angle-left"),area({shape:new Polygon([vec2(0),vec2(64,64),vec2(0,64)])}),body({isStatic:!0}),"dirt"],r:()=>[sprite("grass-angle-right"),area({shape:new Polygon([vec2(64,0),vec2(64,64),vec2(0,64)])}),body({isStatic:!0}),"dirt"],b:()=>[sprite("blades"),area(),"blades"]}}),e.onKeyDown((a=>{"right"!==a&&"d"!==a||(e.move(e.speed,0),e.angle=20),"left"!==a&&"a"!==a||(e.move(0-e.speed,0),e.angle=-20),"down"!==a&&"s"!==a||(e.move(0,e.speed),e.angle=0),"up"!==a&&"w"!==a||(e.move(0,0-e.speed),e.angle=0)})),e.onKeyRelease((a=>{"right"!==a&&"left"!==a&&"d"!==a&&"a"!==a||(e.angle=0)})),onUpdate((()=>{e.pos.x<0&&(e.pos.x=0),e.pos.x>width()&&(e.pos.x=width())}))})),go("game");